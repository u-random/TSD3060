# Code partly from Thomas Nordlis "Dockerfile-eksempel"

# This is the shared Dockerfile, to be used as an
# Image for both the REST API and WEB INTERFACE

FROM httpd:alpine

# ENABLE CGI in httpd.conf
RUN echo "LoadModule cgi_module modules/mod_cgi.so" >> conf/httpd.conf; \
    echo "AddHandler cgi-script .cgi"               >> conf/httpd.conf

# REPLACE default cgi-bin directory to the new one
#RUN sed -i 's|/usr/local/apache2/cgi-bin|/usr/lib/cgi-bin|g' conf/httpd.conf

# UPDATE
RUN apk update

# INSTALL CURL, BASH, XMLLINT, Utilities
RUN apk add curl \
            bash \
            libxml2-utils \
            util-linux

EXPOSE 80
